<!--
Place these files in the same directory as this HTML:
- xp-bliss.jpg
- icons/my-computer.png
- icons/my-documents.png
- icons/recycle-bin.png
- icons/network.png
- icons/file-big.png
- icons/start.png (your custom photo for the taskbar icon)
- icons/xp-cursor.png
- sounds/xp-click.mp3
- video/jumpscare.mp4
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Windows XP Joke Desktop</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      font-family: Tahoma, 'Segoe UI', Arial, sans-serif;
      background: #3399ff url('xp-bliss.jpg') no-repeat center center fixed;
      background-size: cover;
      min-height: 100vh;
      min-width: 100vw;
      overflow: hidden;
      cursor: url('icons/xp-cursor.png'), auto;
    }
    .xp-desktop {
      width: 100vw;
      height: 100vh;
      position: relative;
      user-select: none;
      z-index: 1;
    }
    .xp-icons {
      position: absolute;
      top: 32px;
      left: 32px;
      display: flex;
      flex-direction: column;
      gap: 32px;
      z-index: 2;
    }
    .xp-icon {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 72px;
      color: #fff;
      text-shadow: 1px 1px 2px #000;
      font-size: 14px;
      cursor: pointer;
      outline: none;
      transition: filter 0.1s;
    }
    .xp-icon img {
      width: 48px;
      height: 48px;
      margin-bottom: 4px;
    }
    .xp-icon:active, .xp-icon:focus {
      filter: brightness(1.2);
    }
    .xp-press-here {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: default;
      z-index: 3;
      background: none;
      border-radius: 0;
      box-shadow: none;
      padding: 0;
      transition: none;
    }
    .xp-press-here-icon {
      cursor: pointer;
      outline: none;
      border: none;
      background: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .xp-press-here img {
      width: 48px;
      height: 48px;
      margin-bottom: 4px;
    }
    .xp-press-here-label {
      font-size: 14px;
    }
    .xp-press-here:hover, .xp-press-here:focus {
      box-shadow: 0 0 48px 16px #00f6ffcc, 0 2px 16px #000a;
      background: rgba(0,246,255,0.08);
    }
    .xp-taskbar {
      position: absolute;
      left: 0;
      bottom: 0;
      width: 100vw;
      height: 48px;
      background: linear-gradient(180deg, #3a6ea5 0%, #245edb 100%);
      border-top: 2px solid #fff8;
      display: flex;
      align-items: center;
      z-index: 10;
      box-shadow: 0 -2px 8px #0006;
    }
    .xp-taskbar-photo {
      margin-left: 16px;
      width: auto;
      height: auto;
      border-radius: 0;
      box-shadow: none;
      object-fit: unset;
      border: none;
      background: none;
      display: block;
      max-height: 100%;
      max-width: 100%;
    }
    .xp-taskbar-rest {
      flex: 1;
    }
    .xp-clock {
      color: #fff;
      font-size: 16px;
      margin-right: 24px;
      text-shadow: 1px 1px 2px #000;
    }
    @media (max-width: 600px) {
      .xp-icons {
        top: 8px;
        left: 4px;
        gap: 12px;
      }
      .xp-icon {
        width: 40px;
        font-size: 10px;
      }
      .xp-icon img {
        width: 28px;
        height: 28px;
      }
      .xp-press-here {
        padding: 0;
        transform: translate(-50%, -50%) scale(0.8);
      }
      .xp-press-here img {
        width: 36px;
        height: 36px;
      }
      .xp-press-here-label {
        font-size: 12px;
      }
      .xp-taskbar {
        height: 28px;
      }
      .xp-taskbar-photo {
        width: 20px;
        height: 20px;
        margin-left: 6px;
      }
      .xp-clock {
        font-size: 10px;
        margin-right: 6px;
      }
      .jumpscare-gotcha {
        font-size: 2.5rem;
        bottom: 10%;
      }
      .jumpscare-close {
        width: 36px;
        height: 36px;
        font-size: 1.8rem;
        top: 6px;
        right: 6px;
      }
    }
    @media (max-width: 400px) {
      .xp-icons {
        top: 4px;
        left: 2px;
        gap: 8px;
      }
      .xp-icon {
        width: 32px;
        font-size: 8px;
      }
      .xp-icon img {
        width: 24px;
        height: 24px;
      }
      .xp-press-here {
        transform: translate(-50%, -50%) scale(0.7);
      }
      .xp-press-here img {
        width: 32px;
        height: 32px;
      }
      .xp-press-here-label {
        font-size: 10px;
      }
      .xp-taskbar {
        height: 24px;
      }
      .xp-taskbar-photo {
        width: 16px;
        height: 16px;
        margin-left: 4px;
      }
      .xp-clock {
        font-size: 8px;
        margin-right: 4px;
      }
      .jumpscare-gotcha {
        font-size: 2rem;
        bottom: 8%;
      }
      .jumpscare-close {
        width: 28px;
        height: 28px;
        font-size: 1.4rem;
        top: 4px;
        right: 4px;
      }
    }
    .jumpscare-container {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      width: 100vw;
      height: 100vh;
      background: #000;
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: jumpscare-fadein 0.7s cubic-bezier(.4,2,.6,1) 1;
      opacity: 1;
      transition: opacity 0.5s;
    }
    .jumpscare-container.hide {
      opacity: 0;
      pointer-events: none;
    }
    @keyframes jumpscare-fadein {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .jumpscare-video {
      position: absolute;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      z-index: 1;
      filter: brightness(1.1) contrast(1.2);
      transition: filter 0.3s;
    }
    .jumpscare-close {
      position: absolute;
      top: 18px;
      right: 24px;
      z-index: 10;
      background: rgba(0,0,0,0.3);
      color: #fff;
      border: none;
      font-size: 2.5rem;
      font-weight: bold;
      border-radius: 50%;
      width: 48px;
      height: 48px;
      cursor: pointer;
      opacity: 0.5;
      transition: opacity 0.2s, background 0.2s;
    }
    .jumpscare-close:hover, .jumpscare-close:focus {
      opacity: 1;
      background: rgba(0,0,0,0.7);
    }
    .jumpscare-gotcha {
      position: absolute;
      bottom: 12%;
      left: 50%;
      transform: translateX(-50%);
      color: #ff2222;
      font-size: 4rem;
      font-weight: bold;
      text-shadow: 2px 2px 16px #000, 0 0 32px #fff;
      opacity: 0.95;
      z-index: 5;
      pointer-events: none;
      animation: gotcha-pop 0.5s cubic-bezier(.4,2,.6,1) 1 2s forwards;
    }
    @keyframes gotcha-pop {
      0% { opacity: 0; transform: translateX(-50%) scale(0.7); }
      60% { opacity: 1; transform: translateX(-50%) scale(1.2); }
      100% { opacity: 0.95; transform: translateX(-50%) scale(1); }
    }
  </style>
</head>
<body>
  <div class="xp-desktop" id="desktop">
    <div class="xp-icons">
      <div class="xp-icon" tabindex="0" data-sound="1"><img src="icons/my-computer.png" alt="My Computer"><span>My Computer</span></div>
      <div class="xp-icon" tabindex="0" data-sound="1"><img src="icons/my-documents.png" alt="My Documents"><span>My Documents</span></div>
      <div class="xp-icon" tabindex="0" data-sound="1"><img src="icons/recycle-bin.png" alt="Recycle Bin"><span>Recycle Bin</span></div>
      <div class="xp-icon" tabindex="0" data-sound="1"><img src="icons/network.png" alt="Network Places"><span>Network Places</span></div>
    </div>
    <div class="xp-press-here" id="press-here">
      <span class="xp-press-here-icon" tabindex="0" data-sound="1">
        <img src="icons/file-big.png" alt="Press Here">
      </span>
      <span class="xp-press-here-label">Press Here</span>
    </div>
    <div class="xp-taskbar">
      <img class="xp-taskbar-photo" src="icons/start.png" alt="Start Icon">
      <div class="xp-taskbar-rest"></div>
      <div class="xp-clock" id="xp-clock"></div>
    </div>
  </div>
  <div class="jumpscare-container" id="jumpscare" style="display:none">
    <button class="jumpscare-close" id="jumpscare-close" aria-label="Close">Ã—</button>
    <video id="jumpscare-video" class="jumpscare-video" src="video/jumpscare.mp4" preload="auto" loop playsinline></video>
    <div class="jumpscare-gotcha">GOTCHA!</div>
  </div>
  <audio id="xp-click" src="sounds/xp-click.mp3" preload="auto"></audio>
  <script>
    // Clock
    function updateClock() {
      const el = document.getElementById('xp-clock');
      const now = new Date();
      let h = now.getHours();
      let m = now.getMinutes();
      let ampm = h >= 12 ? 'PM' : 'AM';
      h = h % 12; h = h ? h : 12;
      m = m < 10 ? '0' + m : m;
      el.textContent = `${h}:${m} ${ampm}`;
    }
    setInterval(updateClock, 1000); updateClock();

    // Play click sound on hover/touch
    const clickSound = document.getElementById('xp-click');
    document.querySelectorAll('[data-sound="1"]').forEach(el => {
      el.addEventListener('mouseenter', () => {
        clickSound.currentTime = 0;
        clickSound.play();
      });
      // Add touch support for mobile
      el.addEventListener('touchstart', () => {
        clickSound.currentTime = 0;
        clickSound.play();
      });
    });

    // Fullscreen and jumpscare logic
    const pressHereIcon = document.querySelector('.xp-press-here-icon');
    const desktop = document.getElementById('desktop');
    const jumpscare = document.getElementById('jumpscare');
    const jumpscareVideo = document.getElementById('jumpscare-video');
    const jumpscareClose = document.getElementById('jumpscare-close');
    let isJumpscare = false;

    function enterFullscreen(el) {
      if (el.requestFullscreen) el.requestFullscreen();
      else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();
      else if (el.mozRequestFullScreen) el.mozRequestFullScreen();
      else if (el.msRequestFullscreen) el.msRequestFullscreen();
      // For mobile browsers that don't support fullscreen
      else if (el.webkitEnterFullscreen) el.webkitEnterFullscreen();
    }
    function exitFullscreen() {
      if (document.fullscreenElement) document.exitFullscreen();
      else if (document.webkitFullscreenElement) document.webkitExitFullscreen();
      else if (document.mozFullScreenElement) document.mozCancelFullScreen();
      else if (document.msFullscreenElement) document.msExitFullscreen();
    }
    function showJumpscare() {
      isJumpscare = true;
      desktop.style.display = 'none';
      jumpscare.style.display = 'flex';
      jumpscare.classList.remove('hide');
      
      // Mobile-friendly video handling
      jumpscareVideo.currentTime = 0;
      jumpscareVideo.volume = 1;
      jumpscareVideo.muted = false;
      jumpscareVideo.controls = false;
      
      // Try fullscreen, but don't fail if not supported
      try {
        enterFullscreen(document.documentElement);
      } catch (e) {
        console.log('Fullscreen not supported, continuing without it');
      }
      
      // Play video with better mobile support
      const playPromise = jumpscareVideo.play();
      if (playPromise !== undefined) {
        playPromise.then(() => {
          console.log('Video playing successfully');
        }).catch(error => {
          console.log('Video autoplay blocked on mobile, showing static jumpscare:', error);
          // For mobile browsers that block autoplay, show a static jumpscare
          jumpscareVideo.style.display = 'none';
          // Make the GOTCHA text more prominent for mobile
          document.querySelector('.jumpscare-gotcha').style.fontSize = '3rem';
          document.querySelector('.jumpscare-gotcha').style.animation = 'none';
          document.querySelector('.jumpscare-gotcha').style.opacity = '1';
        });
      }
    }
    function hideJumpscare() {
      isJumpscare = false;
      jumpscare.classList.add('hide');
      setTimeout(() => {
        jumpscare.style.display = 'none';
        desktop.style.display = '';
        jumpscareVideo.pause();
        try {
          exitFullscreen();
        } catch (e) {
          console.log('Fullscreen exit failed');
        }
      }, 400);
    }
    pressHereIcon.addEventListener('click', showJumpscare);
    // Add touch support for mobile
    pressHereIcon.addEventListener('touchend', showJumpscare);
    jumpscareClose.addEventListener('click', hideJumpscare);
    jumpscareClose.addEventListener('touchend', hideJumpscare);
    document.addEventListener('keydown', e => {
      if (isJumpscare && e.key === 'Escape') hideJumpscare();
    });
    // Auto-pause video if user exits fullscreen
    document.addEventListener('fullscreenchange', () => {
      if (isJumpscare && !document.fullscreenElement) hideJumpscare();
    });
    document.addEventListener('webkitfullscreenchange', () => {
      if (isJumpscare && !document.webkitFullscreenElement) hideJumpscare();
    });
  </script>
</body>
</html> 